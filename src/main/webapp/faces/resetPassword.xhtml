<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Réinitialiser le mot de passe</title>
    <h:outputStylesheet library="css" name="styles.css"/>
</h:head>
<h:body>
    <h:graphicImage name="images/logo-api.svg" style="width:100px; height:auto; margin-bottom:20px;"/>

    <h:form id="resetPasswordForm">
        <h:panelGroup layout="block" styleClass="form-container" style="text-align:center;">
            <h:outputLabel for="resetUsername" value="Pseudo" styleClass="login-label"/>
            <p:inputText id="resetUsername" value="#{loginBean.forgotUsername}" required="true"
                         requiredMessage="Le pseudo est requis" styleClass="login-input"/>
            <p:message id="resetUsernameMessage" for="resetUsername"/>

            <h:outputLabel for="resetCode" value="Code de vérification" styleClass="login-label"/>
            <p:inputText id="resetCode" value="#{loginBean.resetCode}" required="true"
                         requiredMessage="Le code de vérification est requis" styleClass="login-input"/>
            <p:message id="resetCodeMessage" for="resetCode"/>

            <h:outputLabel for="newPassword" value="Nouveau mot de passe" styleClass="login-label"/>
            <p:password id="newPassword" value="#{loginBean.newPassword}" required="true"
                        requiredMessage="Le mot de passe est requis" styleClass="login-input"/>
            <p:message id="newPasswordMessage" for="newPassword"/>

            <h:outputLabel for="confirmPassword" value="Répétez le mot de passe" styleClass="login-label"/>
            <p:password id="confirmPassword" value="#{loginBean.confirmPassword}" required="true"
                        requiredMessage="Répétez le mot de passe" styleClass="login-input"/>
            <p:message id="confirmPasswordMessage" for="confirmPassword"/>

            <p:commandButton value="Valider" action="#{loginBean.resetPassword}" styleClass="login-button"
                             update="resetUsernameMessage resetCodeMessage newPasswordMessage confirmPasswordMessage" oncomplete="if (!args.validationFailed) window.location='connexion.xhtml';"/>
        </h:panelGroup>
    </h:form>
</h:body>
</html>
